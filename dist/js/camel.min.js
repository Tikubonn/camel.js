/*
 Copyright (c) 2018 tikubonn.
 Released under the MIT License.
 https://opensource.org/licenses/MIT
*/
var m="function"==typeof Object.defineProperties?Object.defineProperty:function(c,b,f){c!=Array.prototype&&c!=Object.prototype&&(c[b]=f.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function p(){p=function(){};n.Symbol||(n.Symbol=q)}var q=function(){var c=0;return function(b){return"jscomp_symbol_"+(b||"")+c++}}();
function r(){p();var c=n.Symbol.iterator;c||(c=n.Symbol.iterator=n.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&m(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return t(this)}});r=function(){}}function t(c){var b=0;return u(function(){return b<c.length?{done:!1,value:c[b++]}:{done:!0}})}function u(c){r();c={next:c};c[n.Symbol.iterator]=function(){return this};return c}
function v(c,b){if(b){var f=n;c=c.split(".");for(var e=0;e<c.length-1;e++){var g=c[e];g in f||(f[g]={});f=f[g]}c=c[c.length-1];e=f[c];b=b(e);b!=e&&null!=b&&m(f,c,{configurable:!0,writable:!0,value:b})}}
v("String.prototype.endsWith",function(c){return c?c:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.endsWith must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.endsWith must not be a regular expression");void 0===c&&(c=this.length);c=Math.max(0,Math.min(c|0,this.length));for(var e=b.length;0<e&&0<c;)if(this[--c]!=b[--e])return!1;return 0>=e}});
function w(c){r();var b=c[Symbol.iterator];return b?b.call(c):t(c)}
v("Promise",function(c){function b(a){this.b=0;this.i=void 0;this.a=[];var d=this.g();try{a(d.resolve,d.reject)}catch(l){d.reject(l)}}function f(){this.a=null}function e(a){return a instanceof b?a:new b(function(d){d(a)})}if(c)return c;f.prototype.b=function(a){null==this.a&&(this.a=[],this.h());this.a.push(a)};f.prototype.h=function(){var a=this;this.g(function(){a.l()})};var g=n.setTimeout;f.prototype.g=function(a){g(a,0)};f.prototype.l=function(){for(;this.a&&this.a.length;){var a=this.a;this.a=
[];for(var d=0;d<a.length;++d){var b=a[d];a[d]=null;try{b()}catch(k){this.i(k)}}}this.a=null};f.prototype.i=function(a){this.g(function(){throw a;})};b.prototype.g=function(){function a(a){return function(c){b||(b=!0,a.call(d,c))}}var d=this,b=!1;return{resolve:a(this.w),reject:a(this.h)}};b.prototype.w=function(a){if(a===this)this.h(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.A(a);else{a:switch(typeof a){case "object":var d=null!=a;break a;case "function":d=!0;
break a;default:d=!1}d?this.v(a):this.l(a)}};b.prototype.v=function(a){var d=void 0;try{d=a.then}catch(l){this.h(l);return}"function"==typeof d?this.B(d,a):this.l(a)};b.prototype.h=function(a){this.s(2,a)};b.prototype.l=function(a){this.s(1,a)};b.prototype.s=function(a,d){if(0!=this.b)throw Error("Cannot settle("+a+", "+d+"): Promise already settled in state"+this.b);this.b=a;this.i=d;this.u()};b.prototype.u=function(){if(null!=this.a){for(var a=0;a<this.a.length;++a)h.b(this.a[a]);this.a=null}};
var h=new f;b.prototype.A=function(a){var d=this.g();a.j(d.resolve,d.reject)};b.prototype.B=function(a,d){var b=this.g();try{a.call(d,b.resolve,b.reject)}catch(k){b.reject(k)}};b.prototype.then=function(a,d){function c(a,d){return"function"==typeof a?function(d){try{k(a(d))}catch(x){e(x)}}:d}var k,e,f=new b(function(a,d){k=a;e=d});this.j(c(a,k),c(d,e));return f};b.prototype.catch=function(a){return this.then(void 0,a)};b.prototype.j=function(a,d){function b(){switch(c.b){case 1:a(c.i);break;case 2:d(c.i);
break;default:throw Error("Unexpected state: "+c.b);}}var c=this;null==this.a?h.b(b):this.a.push(b)};b.resolve=e;b.reject=function(a){return new b(function(d,b){b(a)})};b.race=function(a){return new b(function(d,b){for(var c=w(a),l=c.next();!l.done;l=c.next())e(l.value).j(d,b)})};b.all=function(a){var d=w(a),c=d.next();return c.done?e([]):new b(function(a,b){function l(d){return function(b){f[d]=b;k--;0==k&&a(f)}}var f=[],k=0;do f.push(void 0),k++,e(c.value).j(l(f.length-1),b),c=d.next();while(!c.done)})};
return b});v("Array.prototype.find",function(c){return c?c:function(b,c){a:{var e=this;e instanceof String&&(e=String(e));for(var f=e.length,h=0;h<f;h++){var a=e[h];if(b.call(c,a,h,e)){b=a;break a}}b=void 0}return b}});
(function(){function c(){}function b(a,d){void 0==d&&(d={});this.a=a;this.f=d;this.c=null}function f(a,d){this.b=a;this.a=d}function e(a,d){this.a=a;this.b=d}function g(){this.a=[]}var h={".js":"application/javascript",".json":"application/json",".css":"text/css",".html":"text/html",".htm":"text/html",".xml":"application/xml",".png":"image/png",".jpg":"image/jpeg",".jpeg":"image/jpeg",".gif":"image/gif",".bmp":"image/bmp",".svg":"image/svg+xml",".ico":"image/x-icon",".ttf":"font/ttf",".otf":"font/otf",
".woff":"font/woff",".woff2":"font/woff2",".oga":"audio/ogg",".ogv":"video/ogg",".aac":"audio/aac",".avi":"video/x-msvideo",".mp3":"audio/mpeg",".mp4":"video/mp4",".mpeg":"video/mpeg",".wav":"audio/wav",".mid":"audio/midi",".midi":"audio/midi",".weba":"audio/webm",".webm":"video/webm",".webp":"image/webp"};window.camelMimeTable=h;b.prototype=Object.create(c.prototype);b.prototype.name=function(){return this.a};b.prototype.b=function(){return new Promise(function(a,d){function b(){void 0==this.f.necessary?
d(this.o):this.f.necessary?d(this.o):a(this.o)}function c(){4==this.c.readyState&&(200==this.c.status?a(this.c):b.call(this))}4==this.c.readyState?200==this.c.status?a(this.c):b.call(this):this.c.addEventListener("readystatechange",c.bind(this))}.bind(this))};b.prototype.download=function(){if(null==this.c){this.c=new XMLHttpRequest;this.c.open(void 0==this.f.method?"GET":this.f.method,this.a,void 0==this.f.async?!0:this.f.async);if(this.f.header){var a=this.f.header,d=Object.keys(a),b;for(b=0;b<
d.length;b++){var c=d[b];this.c.setRequestHeader(c,a[c])}}if(this.f.mime)this.c.overrideMimeType(this.f.mime);else{a:{d=this.a;b=Object.keys(h);for(c=0;c<b.length;){a=b[c];if(d.endsWith(a)){d=h[a];if(d instanceof String||"string"==typeof d){a=h[a];break a}throw Error("value must be string in camelMimeTable.");}c=c+1|0}a=null}a&&this.c.overrideMimeType(a)}this.c.send(void 0==this.f.param?null:this.f.param)}return this.b()};b.prototype.get=function(){if(4==this.c.readyState&&200==this.c.status)return this.c;
throw Error("");};b.prototype.g=function(a){return 0<=a.indexOf(this)};window.CamelRequest=b;f.prototype=Object.create(c.prototype);f.prototype.name=function(){return this.a};f.prototype.download=function(){var a=this.b.find(this.a);if(a)return a.download();throw Error(""+this.a+" is undefined in Camel instance.");};f.prototype.get=function(){var a=this.b.find(this.a);if(a)return a.get();throw Error(""+this.a+" is undefined in Camel instance.");};f.prototype.g=function(a){var d=this.b.find(this.a);
if(d)return d.m(a);throw Error(""+this.a+" is undefined in Camel instance.");};e.prototype=Object.create(c.prototype);e.prototype.name=function(){return this.a.name()};e.prototype.download=function(){return Promise.all(this.b.map(function(a){return a.download()})).then(this.a.download.bind(this.a))};e.prototype.get=function(){return this.a.get()};e.prototype.g=function(a){if(this.a.m(a))return!0;var d;for(d=0;d<this.b.length;d++){var b=this.b[d],c=a.slice();c.push(this.a);if(b.m(c))return!0}return!1};
g.prototype.find=function(a){if(a instanceof String||"string"==typeof a)return this.b(a);if(a instanceof b)return this.g(a);throw Error("argument of 1 is unsupported type.");};g.prototype.b=function(a){var d;for(d=0;d<this.a.length;d++){var b=this.a[d];if(b.name()==a)return b}return null};g.prototype.g=function(a){var b;for(b=0;b<this.a.length;b++){var c=this.a[b];if(c==a)return c}return null};g.prototype.i=function(a,d){if(a instanceof String||"string"==typeof a)return new b(a,d);if(a instanceof
b)return a;throw Error("argument of 1 is unsupported type.");};g.prototype.h=function(a){return a.map(function(a){if(a instanceof String||"string"==typeof a)return new f(this,a);if(a instanceof b)return new f(this,a);throw Error("argument of 1 is unsupported type.");},this)};g.prototype.register=function(a,b,c){void 0==b&&(b=[]);void 0==c&&(c={});if(this.find(a))throw Error("already defined.");a=this.i(a,c);b=this.h(b);this.a.push(new e(a,b))};g.prototype.download=function(a){if(a=this.find(a)){if(a.g([]))throw Error("circular reference was detected in dependation.");
return a.download()}throw Error("argument of 1 is could not be found in Camel instance.");};g.prototype.get=function(a){if(a=this.find(a))return a.get();throw Error("argument of 1 is could not be found in Camel instance.");};window.Camel=g})();
